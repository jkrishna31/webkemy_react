.wrapper {
  --rate-color: var(--yellow-2);

  display: flex;
  align-items: center;
  gap: .2rem;

  position: relative;

  &[aria-disabled="true"],
  &:disabled {
    opacity: .5;
  }

  &[aria-readonly="true"] {
    pointer-events: none;
    opacity: initial;
  }

  & svg {
    fill: var(--bg-s);
    width: 2.6rem;
    height: 2.6rem;
    transition: fill .15s linear, stroke .15s linear;
  }

  stop {
    --rate-color: var(--bg-s);
    stop-color: var(--rate-color);
  }

  stop[data-color="default"] {
    --rate-color: var(--yellow-2);
  }

  &[data-color="red"],
  stop[data-color="red"] {
    --rate-color: var(--red-5);
  }

  &[data-color="blue"],
  stop[data-color="blue"] {
    --rate-color: var(--blue-1);
  }

  &[data-color="green"],
  stop[data-color="green"] {
    --rate-color: var(--green-1);
  }

  &[data-color="orange"],
  stop[data-color="orange"] {
    --rate-color: var(--orange-2);
  }

  &[data-color="purple"],
  stop[data-color="purple"] {
    --rate-color: var(--purple-1);
  }
}

.item {
  position: relative;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: .4rem;
  border-radius: var(--br-pill);
  border: .1rem solid transparent;
  background: transparent;
  color: var(--border-p);
  transition: transform .3s ease, color .3s ease, background .3s ease;

  label {
    position: absolute;
    top: 0;
    left: 0;
    width: .1rem;
    height: .1rem;
    opacity: .001;
  }

  input {
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    width: .1rem;
    height: .1rem;
    opacity: .001;
    border: none;
    background: none;
    outline: none;
  }

  input:focus-visible {
    opacity: 1;
    width: 100%;
    height: 100%;

    &~svg {
      outline: .2rem dashed var(--rate-color, var(--fg-p-alt));
      outline-offset: .2rem;
    }
  }

  .active_label {
    width: 100%;
    height: 100%;
  }

  &:not(:disabled),
  &:not([aria-disabled="true"]) {

    &:hover,
    &:focus-visible {
      transform: scale(1.35);
      color: var(--fg-p-alt);
    }
  }

  &[data-state="full"] {
    svg {
      color: var(--rate-color);
      fill: var(--rate-color);
    }
  }

  &[data-state="partial"] {
    svg {
      color: var(--rate-color);
    }
  }

  &[data-nostroke="true"] svg {
    stroke-width: 0;
  }

  &[data-state="partial"] svg {
    fill: inherit;
  }
}

.clear_input_label {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
}

.clear_input {
  position: absolute;
  width: .1rem;
  height: .1rem;
  top: 0;
  border: none;
  background-color: none;
  opacity: .0001;

  &:focus-visible~.clear_input_label {
    outline: .2rem dashed var(--rate-color, var(--fg-p-alt));
  }
}