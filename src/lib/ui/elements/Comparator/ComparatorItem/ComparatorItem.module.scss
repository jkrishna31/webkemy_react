.wrapper {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  inset: 0;

  --comparator-x-complement: calc(100% - var(--comparator-x));
  --comparator-y-complement: calc(100% - var(--comparator-y));
}

.clip {
  &.top_left {
    clip-path: polygon(0 0, var(--comparator-x) 0, var(--comparator-x) var(--comparator-y-complement), 0 var(--comparator-y-complement));
  }

  &.top_right {
    clip-path: polygon(var(--comparator-x) 0, 100% 0, 100% var(--comparator-y-complement), var(--comparator-x) var(--comparator-y-complement));
  }

  &.bottom_left {
    clip-path: polygon(0 var(--comparator-y-complement), var(--comparator-x) var(--comparator-y-complement), var(--comparator-x) 100%, 0 100%);
  }

  &.bottom_right {
    clip-path: polygon(var(--comparator-x) var(--comparator-y-complement), 100% var(--comparator-y-complement), 100% 100%, var(--comparator-x) 100%);
  }
}

.mask {
  -webkit-mask-composite: destination-in;
  mask-composite: intersect;

  &.top_left {
    -webkit-mask-image:
      linear-gradient(to right, transparent var(--comparator-x) black var(--comparator-x)),
      linear-gradient(to top, black var(--comparator-y), transparent var(--comparator-y));
    mask-image:
      linear-gradient(to right, transparent var(--comparator-x) black var(--comparator-x)),
      linear-gradient(to top, black var(--comparator-y), transparent var(--comparator-y));
  }

  &.top_right {
    -webkit-mask-image:
      linear-gradient(to left, transparent var(--comparator-x-complement), black var(--comparator-x-complement)),
      linear-gradient(to top, black var(--comparator-y), transparent var(--comparator-y));
    mask-image:
      linear-gradient(to left, transparent var(--comparator-x-complement), black var(--comparator-x-complement)),
      linear-gradient(to top, black var(--comparator-y), transparent var(--comparator-y));
  }

  &.bottom_left {
    -webkit-mask-image:
      linear-gradient(to right, transparent var(--comparator-x), black var(--comparator-x)),
      linear-gradient(to bottom, black var(--comparator-y-complement), transparent var(--comparator-y-complement));
    mask-image:
      linear-gradient(to right, transparent var(--comparator-x), black var(--comparator-x)),
      linear-gradient(to bottom, black var(--comparator-y-complement), transparent var(--comparator-y-complement));
  }

  &.bottom_right {
    -webkit-mask-image:
      linear-gradient(to left, transparent var(--comparator-x-complement), black var(--comparator-x-complement)),
      linear-gradient(to bottom, black var(--comparator-y-complement), transparent var(--comparator-y-complement));
    mask-image:
      linear-gradient(to left, transparent var(--comparator-x-complement), black var(--comparator-x-complement)),
      linear-gradient(to bottom, black var(--comparator-y-complement), transparent var(--comparator-y-complement));
  }
}